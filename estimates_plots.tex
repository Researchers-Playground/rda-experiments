\documentclass{article}
\usepackage{pgfplots}
\usepackage{csvsimple}
\usepackage{subcaption}
\usepackage[a4paper, total={7in, 10in}]{geometry} % Makes the page wider

\begin{document}

\begin{figure}[htbp]
    \centering

    % First plot: k1 vs k2
    \begin{minipage}{0.48\textwidth}
        \begin{tikzpicture}
            \begin{axis}[
                width=8cm, height=6cm,
                xlabel={k2},
                ylabel={k1},
                title={k1 vs k2},
                grid=major,
                legend pos=north east,
                mark repeat=40,
                xmode=log, % Logarithmic x-axis
                ymode=log, % Logarithmic y-axis
            ]
            \addplot table [x=k2, y=k1, col sep=comma] {estimates_data_1_5000.csv}; \addlegendentry{$N = 5000$, $\epsilon=0.01$};
            \addplot table [x=k2, y=k1, col sep=comma] {estimates_data_1_10000.csv}; \addlegendentry{$N = 10000$, $\epsilon=0.01$};
            \addplot table [x=k2, y=k1, col sep=comma] {estimates_data_1_100000.csv}; \addlegendentry{$N = 100000$, $\epsilon=0.01$};
            \end{axis}
        \end{tikzpicture}
    \end{minipage}
    \quad

    % Second plot: data_complexity vs k2
    \begin{minipage}{0.48\textwidth}
        \begin{tikzpicture}
            \begin{axis}[
                width=8cm, height=6cm,
                xlabel={k2},
                ylabel={Data Complexity},
                title={Data Complexity vs k2},
                grid=major,
                legend pos=north east,
                mark repeat=40,
                xmode=log, % Logarithmic x-axis
                ymode=log, % Logarithmic y-axis
            ]
            \addplot table [x=k2, y=data_complexity, col sep=comma] {estimates_data_1_5000.csv}; \addlegendentry{$N = 5000$, $\epsilon=0.01$};
            \addplot table [x=k2, y=data_complexity, col sep=comma] {estimates_data_1_10000.csv}; \addlegendentry{$N = 10000$, $\epsilon=0.01$};
            \addplot table [x=k2, y=data_complexity, col sep=comma] {estimates_data_1_100000.csv}; \addlegendentry{$N = 100000$, $\epsilon=0.01$};
            \end{axis}
        \end{tikzpicture}
    \end{minipage}
    \\
    \vspace{1cm}

    % Third plot: join_complexity vs k2
    \begin{minipage}{0.48\textwidth}
        \begin{tikzpicture}
            \begin{axis}[
                width=8cm, height=6cm,
                xlabel={k2},
                ylabel={Join Complexity},
                title={Join Complexity vs k2},
                grid=major,
                legend pos=north east,
                mark repeat=40,
                xmode=log, % Logarithmic x-axis
                ymode=log, % Logarithmic y-axis
            ]
            \addplot table [x=k2, y=join_complexity, col sep=comma] {estimates_data_1_5000.csv}; \addlegendentry{$N = 5000$, $\epsilon=0.01$};
            \addplot table [x=k2, y=join_complexity, col sep=comma] {estimates_data_1_10000.csv}; \addlegendentry{$N = 10000$, $\epsilon=0.01$};
            \addplot table [x=k2, y=join_complexity, col sep=comma] {estimates_data_1_100000.csv}; \addlegendentry{$N = 100000$, $\epsilon=0.01$};
            \end{axis}
        \end{tikzpicture}
    \end{minipage}
    \quad

    % Fourth plot: store_complexity vs k2
    \begin{minipage}{0.48\textwidth}
        \begin{tikzpicture}
            \begin{axis}[
                width=8cm, height=6cm,
                xlabel={k2},
                ylabel={Store Complexity},
                title={Store Complexity vs k2},
                grid=major,
                legend pos=north east,
                mark repeat=40,
                xmode=log, % Logarithmic x-axis
                ymode=log, % Logarithmic y-axis
            ]
            \addplot table [x=k2, y=store_complexity, col sep=comma] {estimates_data_1_5000.csv}; \addlegendentry{$N = 5000$, $\epsilon=0.01$};
            \addplot table [x=k2, y=store_complexity, col sep=comma] {estimates_data_1_10000.csv}; \addlegendentry{$N = 10000$, $\epsilon=0.01$};
            \addplot table [x=k2, y=store_complexity, col sep=comma] {estimates_data_1_100000.csv}; \addlegendentry{$N = 100000$, $\epsilon=0.01$};
            \end{axis}
        \end{tikzpicture}
    \end{minipage}

    \caption{Complexity Analysis: k1 vs k2, Data Complexity vs k2, Join Complexity vs k2, and Store Complexity vs k2}
\end{figure}




\begin{figure}[htbp]
    \centering

    % First plot: k1 vs k2
    \begin{minipage}{0.48\textwidth}
        \begin{tikzpicture}
            \begin{axis}[
                width=8cm, height=6cm,
                xlabel={k2},
                ylabel={k1},
                title={k1 vs k2},
                grid=major,
                legend pos=north east,
                mark repeat=40,
                xmode=log, % Logarithmic x-axis
                ymode=log, % Logarithmic y-axis
            ]
            \addplot table [x=k2, y=k1, col sep=comma] {estimates_data_10_1000.csv}; \addlegendentry{$N = 1000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=k1, col sep=comma] {estimates_data_10_5000.csv}; \addlegendentry{$N = 5000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=k1, col sep=comma] {estimates_data_10_10000.csv}; \addlegendentry{$N = 10000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=k1, col sep=comma] {estimates_data_10_100000.csv}; \addlegendentry{$N = 100000$, $\epsilon=0.1$};
            \end{axis}
        \end{tikzpicture}
    \end{minipage}
    \quad

    % Second plot: data_complexity vs k2
    \begin{minipage}{0.48\textwidth}
        \begin{tikzpicture}
            \begin{axis}[
                width=8cm, height=6cm,
                xlabel={k2},
                ylabel={Data Complexity},
                title={Data Complexity vs k2},
                grid=major,
                legend pos=north east,
                mark repeat=40,
                xmode=log, % Logarithmic x-axis
                ymode=log, % Logarithmic y-axis
            ]
            \addplot table [x=k2, y=data_complexity, col sep=comma] {estimates_data_10_1000.csv}; \addlegendentry{$N = 1000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=data_complexity, col sep=comma] {estimates_data_10_5000.csv}; \addlegendentry{$N = 5000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=data_complexity, col sep=comma] {estimates_data_10_10000.csv}; \addlegendentry{$N = 10000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=data_complexity, col sep=comma] {estimates_data_10_100000.csv}; \addlegendentry{$N = 100000$, $\epsilon=0.1$};
            \end{axis}
        \end{tikzpicture}
    \end{minipage}
    \\
    \vspace{1cm}

    % Third plot: join_complexity vs k2
    \begin{minipage}{0.48\textwidth}
        \begin{tikzpicture}
            \begin{axis}[
                width=8cm, height=6cm,
                xlabel={k2},
                ylabel={Join Complexity},
                title={Join Complexity vs k2},
                grid=major,
                legend pos=north east,
                mark repeat=40,
                xmode=log, % Logarithmic x-axis
                ymode=log, % Logarithmic y-axis
            ]
            \addplot table [x=k2, y=join_complexity, col sep=comma] {estimates_data_10_1000.csv}; \addlegendentry{$N = 1000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=join_complexity, col sep=comma] {estimates_data_10_5000.csv}; \addlegendentry{$N = 5000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=join_complexity, col sep=comma] {estimates_data_10_10000.csv}; \addlegendentry{$N = 10000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=join_complexity, col sep=comma] {estimates_data_10_100000.csv}; \addlegendentry{$N = 100000$, $\epsilon=0.1$};
            \end{axis}
        \end{tikzpicture}
    \end{minipage}
    \quad

    % Fourth plot: store_complexity vs k2
    \begin{minipage}{0.48\textwidth}
        \begin{tikzpicture}
            \begin{axis}[
                width=8cm, height=6cm,
                xlabel={k2},
                ylabel={Store Complexity},
                title={Store Complexity vs k2},
                grid=major,
                legend pos=north east,
                mark repeat=40,
                xmode=log, % Logarithmic x-axis
                ymode=log, % Logarithmic y-axis
            ]
            \addplot table [x=k2, y=store_complexity, col sep=comma] {estimates_data_10_1000.csv}; \addlegendentry{$N = 1000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=store_complexity, col sep=comma] {estimates_data_10_5000.csv}; \addlegendentry{$N = 5000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=store_complexity, col sep=comma] {estimates_data_10_10000.csv}; \addlegendentry{$N = 10000$, $\epsilon=0.1$};
            \addplot table [x=k2, y=store_complexity, col sep=comma] {estimates_data_10_100000.csv}; \addlegendentry{$N = 100000$, $\epsilon=0.1$};
            \end{axis}
        \end{tikzpicture}
    \end{minipage}

    \caption{Complexity Analysis: k1 vs k2, Data Complexity vs k2, Join Complexity vs k2, and Store Complexity vs k2}
\end{figure}


\end{document}
